{"ast":null,"code":"var _jsxFileName = \"D:\\\\My_Projects\\\\AgriZone-Blog-React\\\\front_end\\\\src\\\\components\\\\ReactionArticle.js\",\n  _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SingleArticle = ({\n  article,\n  user\n}) => {\n  _s();\n  var _article$reactions;\n  const [reactionCount, setReactionCount] = useState(article.reactions.length || 0);\n  const [reacted, setReacted] = useState((_article$reactions = article.reactions) === null || _article$reactions === void 0 ? void 0 : _article$reactions.includes(user === null || user === void 0 ? void 0 : user._id));\n  const handleReaction = async () => {\n    try {\n      const res = await axios.post(`http://localhost:5000/api/article/react/${article._id}`, {}, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n      setReactionCount(res.data.reactions);\n      setReacted(!reacted);\n    } catch (err) {\n      alert(\"You must login to react!\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card shadow-sm col-sm-12 col-md-4 col-lg-3 mb-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-components\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: article.image,\n        alt: article.title,\n        className: \"card-img-top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body d-flex flex-column justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"card-title text-center\",\n          children: article.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-text preview-multiline\",\n          children: article.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/article/${article._id}`,\n          className: \"btn btn-success\",\n          children: \"Read More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `btn mt-2 ${reacted ? 'btn-danger' : 'btn-outline-danger'}`,\n          onClick: handleReaction,\n          children: [\"\\u2764\\uFE0F \", reactionCount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(SingleArticle, \"c/RqJfsySNJoyaIcgjVi2U5ipqE=\");\n_c = SingleArticle;\nvar _c;\n$RefreshReg$(_c, \"SingleArticle\");","map":{"version":3,"names":["useContext","AuthContext","axios","useState","Link","jsxDEV","_jsxDEV","SingleArticle","article","user","_s","_article$reactions","reactionCount","setReactionCount","reactions","length","reacted","setReacted","includes","_id","handleReaction","res","post","headers","Authorization","token","data","err","alert","className","children","src","image","alt","title","fileName","_jsxFileName","lineNumber","columnNumber","content","to","onClick","_c","$RefreshReg$"],"sources":["D:/My_Projects/AgriZone-Blog-React/front_end/src/components/ReactionArticle.js"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SingleArticle = ({ article, user }) => {\r\n  const [reactionCount, setReactionCount] = useState(article.reactions.length || 0);\r\n  const [reacted, setReacted] = useState(article.reactions?.includes(user?._id));\r\n\r\n  const handleReaction = async () => {\r\n    try {\r\n      const res = await axios.post(`http://localhost:5000/api/article/react/${article._id}`, {}, {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`\r\n        }\r\n      });\r\n\r\n      setReactionCount(res.data.reactions);\r\n      setReacted(!reacted);\r\n    } catch (err) {\r\n      alert(\"You must login to react!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card shadow-sm col-sm-12 col-md-4 col-lg-3 mb-4\">\r\n      <div className='card-components'>\r\n        <img src={article.image} alt={article.title} className=\"card-img-top\" />\r\n        <div className=\"card-body d-flex flex-column justify-content-center\">\r\n          <h5 className=\"card-title text-center\">{article.title}</h5>\r\n          <p className=\"card-text preview-multiline\">{article.content}</p>\r\n          <Link to={`/article/${article._id}`} className=\"btn btn-success\">Read More</Link>\r\n          {user && (\r\n            <button\r\n              className={`btn mt-2 ${reacted ? 'btn-danger' : 'btn-outline-danger'}`}\r\n              onClick={handleReaction}\r\n            >\r\n              ❤️ {reactionCount}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}